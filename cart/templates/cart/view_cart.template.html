{% extends 'base.template.html'%}
{%load static%}

{%block title%}Shopping Cart{%endblock%}

{%block content%}

                <h2 class="mt-2">Your Shopping Cart</h2>
                {% for key, value in cart.items %}
                    <div class="card mt-2 container">
                        <div class="card-body row">
                            <div class="card-title col-md-3">
                            <h6>{{value.name}}</h6>
                            </div>

                            <div class="col-md-2">
                            <h6>${{value.cost}}</h6>
                            </div>


                            <div class="col-md-3">
                            <form method="POST" action="{% url 'update_cart_quantity' product_id=value.id %}">
                            {% csrf_token %}
                            <input type="text" name="qty" value="{{value.qty}}" style="width:40px"/>
                            <input type="submit" value="Update quantity" class="btn btn-primary btn-sm"/>
                            </form>
                            </div>

                            <div class="col-md-2">
                            <h6>Cost: ${{value.total_cost|floatformat:2 }}    </h6>
                            </div>
                            

                            <div class="col-md-2">
                            <a class="btn btn-info btn-sm" href="{% url 'remove_from_cart' product_id=value.id %}">Remove</a><br/>  
                            </div>
                        </div>
                    </div>
                {%endfor%}
                
                <h4>Cart Cost: ${{total|floatformat:2 }}</h4>
                <a href="{% url 'checkout' %}" class="btn btn-primary">Checkout</a>
                <a href="{% url 'create_delivery' %}" class="btn btn-primary">Continue</a>
                </div>


{%endblock%}